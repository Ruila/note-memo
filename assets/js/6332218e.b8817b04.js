"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[739],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=r,g=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return n?a.createElement(g,i(i({ref:t},c),{},{components:n})):a.createElement(g,i({ref:t},c))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},739:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const o={title:"[Kotlin] DAO & Zygarde"},i="[Kotlin] DAO & Zygarde",l={unversionedId:"Kotlin/kotlin-dao-zygarde",id:"Kotlin/kotlin-dao-zygarde",title:"[Kotlin] DAO & Zygarde",description:"What is Dao ?",source:"@site/docs/Kotlin/kotlin-dao-zygarde.md",sourceDirName:"Kotlin",slug:"/Kotlin/kotlin-dao-zygarde",permalink:"/note-memo/docs/Kotlin/kotlin-dao-zygarde",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Kotlin/kotlin-dao-zygarde.md",tags:[],version:"current",frontMatter:{title:"[Kotlin] DAO & Zygarde"},sidebar:"tutorialSidebar",previous:{title:"[Kotlin] Annotation",permalink:"/note-memo/docs/Kotlin/kotlin-annotation"},next:{title:"[Kotlin] Data Class",permalink:"/note-memo/docs/Kotlin/kotlin-data-class"}},s={},p=[{value:"What is Dao ?",id:"what-is-dao-",level:2},{value:"What is Zygarde ?",id:"what-is-zygarde-",level:2},{value:"Usage",id:"usage",level:3},{value:"step 1: Install",id:"step-1-install",level:4},{value:"step 2: create your entity",id:"step-2-create-your-entity",level:4},{value:"step 3: run command for generating DAO",id:"step-3-run-command-for-generating-dao",level:4},{value:"step 4: then you will see DAO",id:"step-4-then-you-will-see-dao",level:4},{value:"Reference",id:"reference",level:2}],c={toc:p},d="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(d,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"kotlin-dao--zygarde"},"[Kotlin]"," DAO & Zygarde"),(0,r.kt)("h2",{id:"what-is-dao-"},"What is Dao ?"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"DAO (Data Access Object Pattern)")," pattern is used to separate low level data accessing API or operations from high level business services. Following are the participants in Data Access Object Pattern."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Data Access Object Interface")," - This interface defines the standard operations to be performed on a model object(s).")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Data Access Object concrete class")," - This class implements above interface. This class is responsible to get data from a data source which can be database / xml or any other storage mechanism.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Model Object or Value Object")," - This object is simple POJO containing get/set methods to store data retrieved using DAO class. Ex: ",(0,r.kt)("inlineCode",{parentName:"p"},"Entity")," is a kind of Value Object."))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"If you want to know more detail about the relation between DAO and Entity, please read this ",(0,r.kt)("a",{parentName:"p",href:"https://www.tutorialspoint.com/design_pattern/data_access_object_pattern.htm"},"example"))),(0,r.kt)("h2",{id:"what-is-zygarde-"},"What is Zygarde ?"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/zygarde-projects/zygarde"},"Zygarde")," is an open soure. One of modules called ",(0,r.kt)("inlineCode",{parentName:"p"},"zygarde-jpa-codegen")," can automatically generating ",(0,r.kt)("strong",{parentName:"p"},"DAO")," based on ",(0,r.kt)("strong",{parentName:"p"},"JPA")),(0,r.kt)("h3",{id:"usage"},"Usage"),(0,r.kt)("h4",{id:"step-1-install"},"step 1: Install"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'repositories {\n  maven("https://nexus.puni.tw/repository/maven-releases/")\n}\n\ndependencies {\n  implementation("zygarde:zygarde-jpa:$zygardeVersion")\n  kapt("zygarde:zygarde-jpa-codegen:$zygardeVersion")\n}\n')),(0,r.kt)("h4",{id:"step-2-create-your-entity"},"step 2: create your entity"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'import jakarta.persistence.*\nimport zygarde.codegen.ZyModel\nimport java.io.Serializable\n\n@Table(schema = "public", name = "roles")\n@ZyModel\n@Entity\nclass Role(\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Int? = null,\n\n    @Column(nullable = false)\n    val name: String,\n\n    val description: String? = null,\n\n    val available: Boolean? = null,\n\n    @Column(name = "project_id")\n    val projectId: Int? = null\n) : Serializable\n')),(0,r.kt)("h4",{id:"step-3-run-command-for-generating-dao"},"step 3: run command for generating DAO"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"./gradlew kaptKotlin\n")),(0,r.kt)("h4",{id:"step-4-then-you-will-see-dao"},"step 4: then you will see DAO"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"import kotlin.Int\nimport will.com.demo.entity.Role\nimport zygarde.`data`.jpa.dao.ZygardeEnhancedDao\n\npublic interface RoleDao : ZygardeEnhancedDao<Role, Int>\n")),(0,r.kt)("p",null,"and use it like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'@RestController\n@RequestMapping\nclass TestController(\n    private val roleDao: RoleDao\n) {\n    @GetMapping("/data")\n    fun getData(): String {\n        val data = roleDao.searchOne { name() eq "root" }\n        return data?.description ?: "empty"\n    }\n\n}\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Here is a minimal ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Ruila/zygarde-spring-boot-v3"},"demo")," for spring boot v3 and zygarde v3.\nIf you want to use it and then meet some problem, you can leave your question on ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Ruila/zygarde-spring-boot-v3/issues"},"issues"),".")),(0,r.kt)("h2",{id:"reference"},"Reference"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"@",(0,r.kt)("a",{parentName:"li",href:"https://www.tutorialspoint.com/design_pattern/data_access_object_pattern.htm"},"tutorialspoint")," - DAO")))}u.isMDXComponent=!0}}]);